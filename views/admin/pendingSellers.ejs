<% layout('admin/admin_layout', { pageTitle: pageTitle, active:'pending' }) %>

<div class="card card-gold p-3">
  <h5>Pending Seller Applications</h5>

  <div class="table-responsive mt-3">
    <table class="table">
      <thead><tr><th>User</th><th>Email</th><th>Applied At</th><th>Actions</th></tr></thead>
      <tbody>
        <% pending.forEach(u => { %>
          <tr>
            <td><%= u.username || u.email %></td>
            <td><%= u.email %></td>
            <td><%= u.sellerAppliedAt ? new Date(u.sellerAppliedAt).toLocaleString() : '-' %></td>
            <td>
              <form action="/admin/pending-sellers/<%= u._id %>/approve" method="post" style="display:inline;">
                <button class="btn btn-sm btn-success">Approve</button>
              </form>
              <form action="/admin/pending-sellers/<%= u._id %>/reject" method="post" style="display:inline;">
                <button class="btn btn-sm btn-danger">Reject</button>
              </form>
            </td>
          </tr>
        <% }) %>
      </tbody>
    </table>
  </div>
</div>
